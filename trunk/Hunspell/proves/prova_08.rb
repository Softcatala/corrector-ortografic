# Repassa la llista de plurals invariables equivocats aportada per Joan Montané

require 'hunspell'

def entrades(fitxer)
	ee = {}
	File.open("../../entrades/#{fitxer}.txt").each_line do |lin|
		next unless lin =~ /ent=(.*?)\^/
		ee[$1] = lin
	end
	return ee
end
	
BASE = '../../resultats/hunspell'
hs = Hunspell.new("#{BASE}/catalan.aff", "#{BASE}/catalan.dic")
p hs

mots = []
<<FI_MOTS .each_line do |lin| mots << lin.strip end
	abaixallengües
	abraxas
	abriülls
	absis
	acres
	adenovirus
	adonis
	afartapobres
	afermamossos
	aferrapedres
	aferra-roques
	aferraveles
	afluixapapers
	afrikaans
	agafa-sants
	agapornis
	agatis
	agnus
	aguantallibres
	aiguamans
	aigua-ros
	aixafa-roques
	albatros
	alçavidres
	algeps
	altocúmulus
	altostratus
	àngelus
	anolis
	antetipus
	antiginys
	antitragus
	anus
	apagaguspires
	apagaveles
	aplanavius
	argus
	argus
	àries
	arquetipus
	arrencapins
	àteles
	atles
	atrapamosques
	autofocus
	autoòmnibus
	axis
	axis
	basralocus
	becafigues
	bentos
	besamans
	bíceps
	bífidus
	biotipus
	bissus
	bodris
	bolcavagonetes
	bòrees
	bragasses
	brindis
	bufacanyes
	bufafocs
	bufaforats
	bufallums
	bufanúvols
	buidabots
	cabrales
	caçamines
	caçamosques
	caçapapallones
	caçatorpediners
	cactus
	cagamànecs
	cala-xarxes
	calçasses
	cal·lus
	calvados
	camecíparis
	camedris
	campus
	cànnabis
	caos
	càrdies
	cariotipus
	carnestoltes
	carpinus
	catameus
	cavapalles
	centcames
	centcaps
	centpeus
	cercadits
	cercapersones
	cercapoals
	cercapous
	cercatòfones
	cercavores
	cincnervis
	cirrocúmulus
	cirrostratus
	cirrus
	clítoris
	clonus
	cobreobjectes
	cobriespatlles
	colgafocs
	comptafils
	comptagotes
	comptapasses
	comptaquilòmetres
	compta-revolucions
	comptavoltes
	conus
	cordabotes
	cordaïtes
	corniülls
	corpus
	correcames
	correcamins
	cosinus
	cosmos
	criptotipus
	crisopras
	croquis
	cumulonimbus
	cúmulus
	cunnilingus
	curripeus
	cutis
	dartos
	desferracavalls
	detritus
	dimecres
	diplodocus
	divendres
	doris
	dospeus
	dragamines
	ecotipus
	efebus
	eixorba-rates
	eixugamans
	eixugaparabrises
	eixugavidres
	enganxacabells
	enganxadones
	enganxa-roques
	enganyabadocs
	enganyamarits
	enganyapastors
	enterovirus
	escalfallits
	escalfapanxes
	escalfaplats
	escampavies
	escanyabruixots
	escanyacabres
	escanyacavalls
	escanyagats
	escanyagossos
	escanyallops
	escanyamullers
	escanyapits
	escanyapolls
	escanyavelles
	escapus
	esclatabutzes
	esclata-sabates
	escorreplats
	escuradents
	escuraflascons
	escuraorelles
	escuraungles
	esgarrapacrestes
	esgarrapacristos
	espantacaçadors
	espantallops
	espantamosques
	espantaocells
	espanta-sogres
	espantavelles
	espiadimonis
	esplugabous
	espolsamates
	estassabarders
	estatus
	estiracabells
	estiravelles
	estratocúmulus
	estratus
	estrenyecaps
	estripa-sacs
	eucaliptus
	ex-libris
	fal·lus
	fascolomis
	fenotipus
	ferrapedres
	fetus
	ficus
	flandes
	flanquís
	focus
	fòrceps
	fractocúmulus
	fractonimbus
	frontenis
	frontennis
	frontis
	frotis
	fucus
	furgadents
	galimaties
	gaudeamus
	gèminis
	genotipus
	giradiscos
	giradiscs
	giratroncs
	glacis
	globus
	gratabous
	gratanúvols
	gratapalles
	gratapeus
	gratibuixes
	guardacaps
	guardacors
	guardacostes
	guardajoies
	guardamobles
	guardaobencs
	guardapits
	guardapols
	guardapunys
	guarda-rodes
	guarda-segells
	guardaveles
	guiafils
	gules
	hades
	hepatopàncrees
	hèrcules
	herpes
	herpesvirus
	hiatus
	hidrastis
	holotipus
	humus
	ibis
	ictus
	íleus
	inflaconys
	inlandsis
	iris
	isotipus
	judes
	lapsus
	lies
	llançabombes
	llançacaps
	llançacoets
	llançaflames
	llançagranades
	llançamíssils
	llançatorpedes
	llapis
	llepadits
	llevataps
	lluís
	lobus
	locus
	longuis
	lotus
	lupus
	macrocosmos
	maldulls
	maquis
	marcapassos
	matablats
	mataespurnes
	matallops
	matallums
	matamosques
	mata-racons
	mata-rates
	mata-segells
	mata-soldats
	matavelles
	matavius
	melis
	menjafigues
	menjamoixines
	menjapinyols
	menjavents
	mesclantaigües
	messies
	microcosmos
	microones
	milhomes
	milpeus
	milpunts
	milratlles
	mocallums
	mucus
	muntacàrregues
	muntaplats
	negus
	nevus
	nimbostratus
	nimbus
	nipis
	nodus
	nomoblidis
	nònius
	no-res
	obreampolles
	obrecartes
	obrellaunes
	obriülls
	ofegabous
	òmnibus
	opus
	oremus
	pàncrees
	papafigues
	papamosques
	papaorelles
	papapeixos
	papus
	paraallaus
	paracaigudes
	parafils
	parallamps
	para-xocs
	passacamins
	passacintes
	passafaves
	passamuntanyes
	passa-rius
	passavetes
	paterfamilias
	pega-roques
	peladits
	pela-roques
	penis
	penja-robes
	penja-sargantanes
	pesaàcids
	pesacartes
	pesafiltres
	pesainfants
	pesalicors
	pesa-sals
	pescamines
	pessiganassos
	petjapapers
	picaaranyes
	picacarrasques
	picamatalassos
	picapinyes
	picaplatges
	pica-soques
	pintacoques
	pintallavis
	piscolabis
	pitjapapers
	pixallits
	pixis
	plegamans
	plumetis
	pongis
	portaaeronaus
	portaavions
	portabombetes
	portabroques
	portacarbons
	portacigarretes
	portacigarrets
	portacigars
	portaclaus
	portaclips
	portadocuments
	portaeines
	portaescombretes
	portaescuradents
	portafeixos
	portafileres
	portafils
	portafirmes
	portahelicòpters
	portalàmpades
	portallapis
	portalliços
	portamaletes
	portamantes
	portamascles
	portamines
	portamonedes
	portaobjectes
	portaobjectius
	porta-revistes
	porta-rotlles
	porta-segells
	portataules
	portaviandes
	porus
	potos
	proglotis
	protal·lus
	pròteles
	prototipus
	provirus
	psicotipus
	pubis
	punxa-sàrries
	quadrigatus
	quepis
	quermes
	quilmes
	raquis
	rascaculs
	ratapeus
	remena-rocs
	rentacaps
	rentamans
	rentapeus
	repicatalons
	reposacaps
	reposapeus
	retrovirus
	rictus
	mortis
	rodadits
	rosolis
	rotavirus
	saltamurades
	saltaülls
	salvallançadores
	salvavides
	sanaporcs
	sanatruges
	sanctus
	saros
	semis
	semis
	serotipus
	serrabiaixos
	serrabosses
	serracaps
	siemens
	síl·labus
	sinus
	sorites
	sorus
	tactus
	tallaarrels
	tallacames
	tallacigars
	tallahams
	tallapapers
	tallaplomes
	talla-rajoles
	talla-robes
	talla-roques
	tallaungles
	tal·lus
	tapaboques
	tapabruts
	tapacostures
	tapaculs
	tapaforats
	tapajuntes
	tapajunts
	tapaporus
	tapapunts
	telenotícies
	tenis
	tennis
	termos
	tesaurus
	tètanus
	tifus
	timus
	tipus
	tirabotes
	tiralínies
	tirapits
	tiravaques
	tocadiscos
	tocadiscs
	tolus
	tonus
	torcaboques
	torcacoltells
	torcamans
	tornagauxes
	torus
	tragus
	traspassacamins
	travacavalls
	trempaplomes
	trencaaigües
	trencacaps
	trencaclosques
	trencacolls
	trencacorrents
	trencallums
	trencanous
	trencapins
	trencapinyes
	trencapinyons
	trencavits
	trespeus
	triapedres
	tríceps
	tries
	trinquis
	unguis
	uredosorus
	vermis
	viacrucis
	virus
	vis-a-vis
	voltadits
	xeflis
	xotis
	adobacamins
	adobacossis
	afaitapagesos
	afaitapobres
	arrencaqueixals
	avalotapobles
	aixafaterrossos
	buidaampolles
	buidabutxaques
	buscagatoses
	cagacalces
	cagamiques
	menjacapellans
	pixa-reixes
	pixatinters
	mestretites
	plats-i-olles
	tallabosses
	portafarcells
	portanoves
	segabosses
	tastavins
	pelacanyes
	saltabarrancs
	saltaparets
	saltataulells
	saltaterrats
	perdonavides
	perdis
	tocacampanes
	picatatxes
	torracollons
	torrapipes
	nyicris
	mecenes
	guardaagulles
	esclafaterrossos
	escombracarrers
	escorxa-ròsses
	escurabasses
	escurabosses
	escurapous
	escura-xemeneies
	espanyaportes
	guardafrens
	enterramorts
	espolsabutxaques
	estanyapaelles
	escalfabraguetes
	llepaculs
	picaplets
	giracasaques
	somiatruites
	portantveus
	rebentapisos
	vetesifils
	aplegapilotes
	portalliteres
	trapatroles
	adobacadires
	adobamitges
	afonacases
	agafa-sopes
	busca-raons
	cagadubtes
	cercabregues
	cercafresses
	cerca-raons
	cerca-renous
	cerca-renyines
	cerca-revolts
	desenterramorts
	escalfacadires
	escanyapobres
	escanya-rals
	escurabutxaques
	escuracassoles
	esgarriacries
	llepacrestes
	llepaplats
	lligamosques
	magarrinyes
	mastegaparaules
	menjafestucs
	menjamiques
	ploracossos
	ploramorts
	roda-soques
	rosegaaltars
	setciències
	tastaolletes
	tocaboires
	manetes
	picaportes
	penques
	prestanoms
	galtes
	guardacotxes
	giracamises
	netejavidres
	cercatalents
	passavins
	antiarnes
	antimíssils
	antixocs
	antiavalots <-- cal verificar-ho
	antidisturbis
	menys <-- cal verificar
	més <-- cal verificar
	sabatasses <-- cal verificar-ho
	sòmines
	quàdriceps
	isòsceles
	etesis <--- verificar-ho bé
	ploramiques
	perepunyetes
	prenys
	sengles <-- sembla que és correcte, però cal verificar.
	prínceps
	antitancs
	extramurs <-- sembla correcte, però  cal verificar.
	llepafils
	magriscolis <-- verificar
	antibales
	antiincendis
	antimines
	intramurs
	llevataques
	menjamosquits <-- fa tota la pinta de correcte, però cal verificar-ho
	fibratus
	trencamates <-- fa tota la pinta de correcte, però cal verificar-ho
	norris <-- verificar
	finolis
	albíxeres <-- sembla correcte
	alegrois <-- verificar
	alferes
	apagallums
	alisis <-- vent alisis, cal verificar
	bregadores
	arpelles
	amaril·lis
	atifells <-- verificar
	cantirets <-- verificar
	agulletes <-- verificar
	agullots <-- verificar
	bacil·lariofícies <-- tàxon
	caramelles <-- verificar
	àlies
	carrejadores
	cascarres <--verificar
	cagarulles <-- verificar
	calçotets
	pirròfits <-- verificar
	menuderies
	placentats <-- verificar
	metateris <-- verificar
	mirallets
	rentaplats
	saragüells
	papadiners
	rerialles <--- verificar
	resaigües
	resquícies <---  verificar
	venus
	granellons
	guardaespatlles
	llaceries
	lledànies <--verificar
	pilanets <--verificar
	mutis
	mastegatatxes
	alentorns <--verificar
	allargues
	ascites
	càries
	cofisimofis <--- verificar
	edentats <-- verificar
	batimans
	bellumes
	bobanys
	contramesures
	comandacions
	corrípies
	trastets
	culots
	pesquis
	dermis
	escombraries
	escuralls
	daixonses <--verificar
	dallonses <--verificar
	dejús
	espetarrecs
	entenalls
	ferrets
	pampallugues
	estiracordetes
	estisores
	foranies
	llimbs
	dins
	euteris
	franqueres
	fotims
	fasianiformes
	garbissos
	garleries
	hipoclorós
	jutipiris
	ics
	nítols
	entràmenes
	orins
	escuralles
	pastetes
	pantis
	postres
	paperets
	amoretes
	andes
	pelvis
	asperges
	gatolins
	badomeries
	segons
	barretes
	seents
	tentines
	mataaranyes
	sífilis
	mentrimentres
	sinagües
	messes
	publicades
	triadures
	escorrialles
	caranques
	carrutxes
	castanyetes
	clucales
	voltants
	cosquerelles
	cossigolles
	cuscanelles
	sobrances
	tirandes
	trialles
	capcetes
	xurriaques
	fasos
	aigüeroles
	acaballes
	aclucalls
	acròpolis
	adives
	adobadures
	afalagadures
	afores
	agafes
	agranadures
	aiguarelles
	alanquins
	alicates
	allisadures
	ambages
	analectes
	angelins
	ans
	aprofitadures
	aprofitalls
	àrguens
	arpis
	arreplegadures
	atrabilis
	avives
	balejadures
	ballmanetes
	valons
	batialles
	batzoles
	bavalles
	beaces
	beceroles
	bilis
	bimbirimboies
	birimboies
	bladeres
	bocelles
	bonics
	botornons
	caguetes
	calderers
	calomelans
	camanduleries
	caps-i-puntes
	carantoines
	címbals
	clemàstecs
	comicis
	completes
	crasses
	apòstols
	actinomicets
	matines
	diabetis
	didalets
	dimissòries
	doncs
	cloromonadals
	encantalls
	encantàries
	encarregades
	encontorns
	endarreriatges
	endreçúries
	entremèdies
	epidermis
	epiglotis
	escanyamarits
	escarafalls
	escarufs
	escorraines
	escorries
	escures
	esmocadores
	espigoladures
	espigolalles
	espoderaments
	esporguims
	esposalles
	estenalles
	estiuatges
	estovalles
	exèquies
	expenses
	faldilletes
	filots
	contraalisis
	dinoflagel·lats
	cianòfits
	ciques
	gabarrines
	garbelleres
	glotis
	gotets
	grapiots
	grapissos
	hamamelis
	hematites
	camalets
	laudes
	llampurnetes
	llatzèries
	manes
	marceries
	metròpolis
	milfulles
	miosotis
	moquetes
	morralles
	musiqueries
	nanquins
	necròpolis
	netegies
	noces
	nosaltres
	nuïls
	núpcies
	nuviances
	ocellets
	olianes
	oliasses
	ossaments
	duplicidentats
	derris
	epispàdies
	esbocelles
	esponsàlies
	pasqüetes
	peladures
	pelicans
	pellucalles
	penats
	percaceries
	pessigolles
	pistrincs
	pixarelles
	porgadures
	porgueres
	porgueries
	porgues
	profecticis
	pròpolis
	queviures
	raïssos
	rascadures
	rentacares
	revessejats
	roseguies
	salums
	setrilleres
	sobralles
	tabes
	tardaneries
	tardanies
	témpores
	termes
	titanoteris
	topants
	trions
	vagueries
	venedures
	vessadures
	vosaltres
	florídies
	gasteròtrics
	hemicordats
	hendíadis
	ventafocs
	hipotremats
	lacertilis
	palabordons
	polis
	reovirus <-- ORIGEN:angl. reovirus, terme format a partir dels mots anglesos respiratory enteric orphan virus
	rebaixadures
	silicoflagel·lats
	simplicidentats
	tetracoral·laris
	tiralliços
	tirolles
	cagarrines
	conjugades
	environs
	megalòpolis
	baldragues
	pisces
	bermudes
	domus
	anderris
	agulloles
	emprenyavelles
	gossets
	gutxets
	hemerocal·lis
	cicadates
	bonets
	fastos
	coreopsis
	nepentes
	badomies
	cascàrries
	perles
	pinyonets
	matafaves
	matrimonis
	trencaolles
	liliates
	magnoliates
	gnetates
	ginkgoates
	galtitges
	ganyims
	escarranxes
	remàstegues
	briates
	equisetates
	filicates
	haptòfits
	heterocontòfits
	marcanciates
	moneres
	licopodiates
	cassogues
	cossiguetes
	enagües
	trascolins
	paparotes
	antocerotes
	artròfits
	primofílices
	protopteridíides
	psilofitates
	salviníides
	tribofícies
	puntalets
	patarrugues
	pinates
	balladores
	cromistes
	fucofícies
	psilotates
	plagiòstoms
	miques
	lues
	tos
	plebs
	urbs
	dries <-- cal verificar-ho
FI_MOTS

diec = entrades('diec')
diec2 = entrades('diec2')
rdiec = ['// mots invariables']
rdiec2 = ['// mots invariables']
bons, dolents = 0, 0
resultat = []
numlin = 8
mots.each do |mot|
	numlin += 1
	next if mot.empty?
	nota = ""
	if mot =~ /^(.*?)\s*<-+\s*(.*)/
		mot, nota = $1, " (#{$2})"
	end
	if !hs.OK(mot)
		resultat << "No es troba el mot #{mot}#{nota}"
		dolents += 1
		next
	end
	if hs.OK("#{mot}os")
		d = diec.has_key?(mot)
		d2 = diec2.has_key?(mot)
		if d && !d2
			rdiec << "#{mot}: PLU=#{mot}"
			bons += 1
		elsif !d && d2
			rdiec2 << "#{mot}: PLU=#{mot}"
			bons += 1
		elsif d && d2
			resultat << "#{mot} dins diec i diec2"
			dolents += 1
		else
			resultat << "#{mot} no dins diec i diec2"
			dolents += 1
		end
		#~ resultat << "Fals positiu: #{mot}os#{nota}"
		#~ resultat << "#{$0}:#{numlin}:#{mot}os#{nota}"
		#~ dolents += 1
		#~ next
	end
	bons += 1
end
puts ">>> #{dolents} errors / #{bons + dolents} intents"
puts resultat
puts
puts rdiec
puts
puts rdiec2
